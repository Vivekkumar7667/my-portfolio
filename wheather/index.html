<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mausam - Weather App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(120deg, #89f7fe 0%, #66a6ff 100%);
            color: #333;
            min-height: 100vh;
            transition: background 1.5s ease;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Header Styles */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            flex-wrap: wrap;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            font-size: 2.5rem;
            color: #ff8c00;
        }

        .logo h1 {
            font-size: 1.8rem;
            color: #fff;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
        }

        .search-container {
            display: flex;
            width: 100%;
            max-width: 500px;
            margin: 15px 0;
        }

        .search-container input {
            flex: 1;
            padding: 12px 20px;
            border: none;
            border-radius: 30px 0 0 30px;
            font-size: 1rem;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .search-container button {
            padding: 12px 20px;
            border: none;
            background: #ff8c00;
            color: white;
            border-radius: 0 30px 30px 0;
            cursor: pointer;
            transition: background 0.3s;
        }

        .search-container button:hover {
            background: #ff7600;
        }

        /* Main Weather Card */
        .weather-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            text-align: center;
        }

        .location {
            font-size: 2rem;
            margin-bottom: 10px;
            color: #2c3e50;
        }

        .temperature {
            font-size: 4rem;
            font-weight: 700;
            margin: 10px 0;
            color: #2980b9;
        }

        .weather-condition {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
            font-size: 1.5rem;
        }

        .weather-icon {
            font-size: 2.5rem;
            color: #ff8c00;
        }

        .feels-like {
            font-size: 1.2rem;
            color: #7f8c8d;
            margin-bottom: 20px;
        }

        /* Weather Details */
        .weather-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .detail-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .detail-card i {
            font-size: 2rem;
            color: #3498db;
            margin-bottom: 10px;
        }

        .detail-card h3 {
            font-size: 1rem;
            color: #7f8c8d;
            margin-bottom: 10px;
        }

        .detail-card p {
            font-size: 1.5rem;
            font-weight: 600;
            color: #2c3e50;
        }

        /* Forecast Sections */
        .forecast-section {
            margin: 30px 0;
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: #fff;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
        }

        .hourly-forecast {
            display: flex;
            overflow-x: auto;
            gap: 15px;
            padding: 10px 0;
            margin-bottom: 30px;
        }

        .hour-card {
            flex: 0 0 auto;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 15px;
            text-align: center;
            min-width: 100px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .daily-forecast {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
        }

        .day-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        /* Alert Banner */
        .alert-banner {
            background: linear-gradient(to right, #ff4757, #ff6b81);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            margin: 20px 0;
            display: flex;
            align-items: center;
            gap: 10px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 0.9; }
            50% { opacity: 1; }
            100% { opacity: 0.9; }
        }

        /* Map Section */
        .map-container {
            height: 300px;
            background: #ddd;
            border-radius: 15px;
            margin: 30px 0;
            overflow: hidden;
            position: relative;
        }

        .map-placeholder {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
            background: linear-gradient(45deg, #74b9ff, #0984e3);
            color: white;
            font-size: 1.2rem;
        }

        /* Search History */
        .search-history {
            margin: 30px 0;
        }

        .history-items {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .history-item {
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .history-item:hover {
            background: #3498db;
            color: white;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 20px;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 40px;
        }

        /* Loading Spinner */
        .loader {
            display: none;
            border: 5px solid #f3f3f3;
            border-radius: 50%;
            border-top: 5px solid #3498db;
            width: 50px;
            height: 50px;
            margin: 20px auto;
            animation: spin 2s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .search-container {
                width: 100%;
                margin: 15px 0;
            }
            
            .temperature {
                font-size: 3rem;
            }
            
            .location {
                font-size: 1.5rem;
            }
        }

        /* Dynamic Background Classes */
        body.sunny {
            background: linear-gradient(120deg, #f6d365 0%, #fda085 100%);
        }
        
        body.night {
            background: linear-gradient(120deg, #0c2461 0%, #1e3799 100%);
        }
        
        body.cloudy {
            background: linear-gradient(120deg, #89f7fe 0%, #66a6ff 100%);
        }
        
        body.rainy {
            background: linear-gradient(120deg, #4da0b0 0%, #d39d38 100%);
        }
    </style>
</head>
<body class="cloudy">
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-cloud-sun"></i>
                <h1>Mausam</h1>
            </div>
            <div class="search-container">
                <input type="text" id="search-input" placeholder="Shahar ka naam dalein...">
                <button id="search-btn"><i class="fas fa-search"></i></button>
            </div>
        </header>

        <div class="alert-banner" id="weather-alert" style="display: none;">
            <i class="fas fa-exclamation-circle"></i>
            <div id="alert-text">Aaj sham tak baarish ki sambhavana hai. Apna chhata saath le jayein.</div>
        </div>

        <div class="loader" id="loader"></div>

        <div class="weather-card" id="weather-card">
            <h2 class="location" id="location">Mumbai, Maharashtra</h2>
            <div class="temperature" id="temperature">32°C</div>
            <div class="weather-condition">
                <i class="fas fa-cloud-sun weather-icon" id="weather-icon"></i>
                <span id="weather-condition">Dhup aur Badal</span>
            </div>
            <div class="feels-like" id="feels-like">Mehsoos ho raha hai: 35°C</div>

            <div class="weather-details">
                <div class="detail-card">
                    <i class="fas fa-wind"></i>
                    <h3>Hawa Ki Gati</h3>
                    <p id="wind-speed">12 km/h</p>
                </div>
                <div class="detail-card">
                    <i class="fas fa-tint"></i>
                    <h3>Aardrata</h3>
                    <p id="humidity">65%</p>
                </div>
                <div class="detail-card">
                    <i class="fas fa-sun"></i>
                    <h3>UV Index</h3>
                    <p id="uv-index">7</p>
                </div>
                <div class="detail-card">
                    <i class="fas fa-sun"></i>
                    <h3>Suraj</h3>
                    <p id="sun-times">6:12 AM | 6:45 PM</p>
                </div>
            </div>
        </div>

        <div class="forecast-section">
            <h2 class="section-title">Agle 24 Ghante</h2>
            <div class="hourly-forecast" id="hourly-forecast">
                <!-- Hourly forecast will be inserted here by JavaScript -->
            </div>

            <h2 class="section-title">Agle 7 Din</h2>
            <div class="daily-forecast" id="daily-forecast">
                <!-- Daily forecast will be inserted here by JavaScript -->
            </div>
        </div>

        <div class="map-container">
            <div class="map-placeholder">
                <i class="fas fa-map-marked-alt"></i>
                <span>Interactive Radar Map Yahan Dikhega</span>
            </div>
        </div>

        <div class="search-history">
            <h2 class="section-title">Aapke Haan Ka Itihaas</h2>
            <div class="history-items" id="search-history">
                <!-- Search history will be inserted here by JavaScript -->
            </div>
        </div>

        <footer>
            <p>© 2023 Mausam App. Sabhi adhikar reserved.</p>
            <p>OpenWeatherMap API ka upyog kiya gaya hai</p>
        </footer>
    </div>

    <script>
        // Simulated backend using localStorage
        class WeatherBackend {
            constructor() {
                this.apiUrl = "https://api.openweathermap.org/data/2.5";
                this.apiKey = "your_api_key_here"; // In a real app, this would be securely stored
                this.searchHistory = JSON.parse(localStorage.getItem('weatherSearchHistory')) || [];
            }

            // Simulate API call to get weather data
            async getWeatherData(city) {
                // Show loader
                document.getElementById('loader').style.display = 'block';
                document.getElementById('weather-card').style.opacity = '0.5';
                
                try {
                    // In a real implementation, we would fetch from an actual API
                    // const response = await fetch(`${this.apiUrl}/weather?q=${city}&appid=${this.apiKey}&units=metric`);
                    // const data = await response.json();
                    
                    // Simulate API delay
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    
                    // Generate mock data based on city name
                    const mockData = this.generateMockWeatherData(city);
                    
                    // Save to search history
                    this.addToSearchHistory(city);
                    
                    // Update UI
                    this.updateWeatherUI(mockData);
                    
                    return mockData;
                } catch (error) {
                    console.error("Error fetching weather data:", error);
                    alert("Weather data fetch failed. Please try again.");
                    return null;
                } finally {
                    // Hide loader
                    document.getElementById('loader').style.display = 'none';
                    document.getElementById('weather-card').style.opacity = '1';
                }
            }

            // Generate mock weather data based on city name
            generateMockWeatherData(city) {
                const cityHash = city.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
                const now = new Date();
                
                return {
                    name: city,
                    main: {
                        temp: 20 + (cityHash % 15), // Temperature between 20-35°C
                        feels_like: 22 + (cityHash % 15)
                    },
                    weather: [{
                        main: ["Clear", "Clouds", "Rain", "Thunderstorm"][cityHash % 4],
                        description: ["Sunny", "Cloudy", "Rainy", "Stormy"][cityHash % 4]
                    }],
                    wind: {
                        speed: 5 + (cityHash % 10)
                    },
                    main: {
                        humidity: 40 + (cityHash % 40)
                    },
                    sys: {
                        sunrise: now.getTime() - 4 * 60 * 60 * 1000,
                        sunset: now.getTime() + 4 * 60 * 60 * 1000
                    },
                    // Generate hourly forecast data
                    hourly: Array.from({length: 24}, (_, i) => ({
                        time: new Date(now.getTime() + i * 60 * 60 * 1000),
                        temp: 18 + (cityHash % 10) + (i % 3),
                        icon: ["fas fa-sun", "fas fa-cloud", "fas fa-cloud-rain", "fas fa-bolt"][(cityHash + i) % 4]
                    })),
                    // Generate daily forecast data
                    daily: Array.from({length: 7}, (_, i) => ({
                        date: new Date(now.getTime() + i * 24 * 60 * 60 * 1000),
                        temp_min: 15 + (cityHash % 5) + (i % 3),
                        temp_max: 25 + (cityHash % 8) + (i % 4),
                        icon: ["fas fa-sun", "fas fa-cloud", "fas fa-cloud-rain", "fas fa-bolt"][(cityHash + i) % 4]
                    }))
                };
            }

            // Add city to search history
            addToSearchHistory(city) {
                if (!this.searchHistory.includes(city)) {
                    this.searchHistory.unshift(city);
                    // Keep only last 5 searches
                    this.searchHistory = this.searchHistory.slice(0, 5);
                    localStorage.setItem('weatherSearchHistory', JSON.stringify(this.searchHistory));
                    this.updateSearchHistoryUI();
                }
            }

            // Update search history UI
            updateSearchHistoryUI() {
                const historyContainer = document.getElementById('search-history');
                historyContainer.innerHTML = '';
                
                this.searchHistory.forEach(city => {
                    const historyItem = document.createElement('div');
                    historyItem.className = 'history-item';
                    historyItem.textContent = city;
                    historyItem.addEventListener('click', () => {
                        document.getElementById('search-input').value = city;
                        document.getElementById('search-btn').click();
                    });
                    historyContainer.appendChild(historyItem);
                });
            }

            // Update weather UI with data
            updateWeatherUI(data) {
                if (!data) return;
                
                document.getElementById('location').textContent = data.name;
                document.getElementById('temperature').textContent = `${Math.round(data.main.temp)}°C`;
                document.getElementById('feels-like').textContent = `Mehsoos ho raha hai: ${Math.round(data.main.feels_like)}°C`;
                document.getElementById('weather-condition').textContent = data.weather[0].description;
                
                // Set appropriate weather icon
                const weatherIcon = document.getElementById('weather-icon');
                const weatherMain = data.weather[0].main;
                if (weatherMain === 'Clear') {
                    weatherIcon.className = 'fas fa-sun weather-icon';
                    document.body.className = 'sunny';
                } else if (weatherMain === 'Clouds') {
                    weatherIcon.className = 'fas fa-cloud weather-icon';
                    document.body.className = 'cloudy';
                } else if (weatherMain === 'Rain') {
                    weatherIcon.className = 'fas fa-cloud-rain weather-icon';
                    document.body.className = 'rainy';
                    this.showAlert('Aaj baarish hone ki sambhavana hai. Apna chhata saath le jayein.');
                } else {
                    weatherIcon.className = 'fas fa-bolt weather-icon';
                    this.showAlert('Aaj toofan aane ki sambhavana hai. Bahar jaane se bachein.');
                }
                
                document.getElementById('wind-speed').textContent = `${data.wind.speed} km/h`;
                document.getElementById('humidity').textContent = `${data.main.humidity}%`;
                document.getElementById('uv-index').textContent = '7'; // Mock value
                
                // Format sunrise and sunset times
                const sunriseTime = new Date(data.sys.sunrise).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                const sunsetTime = new Date(data.sys.sunset).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
                document.getElementById('sun-times').textContent = `${sunriseTime} | ${sunsetTime}`;
                
                // Update hourly forecast
                this.updateHourlyForecast(data.hourly);
                
                // Update daily forecast
                this.updateDailyForecast(data.daily);
            }

            // Update hourly forecast UI
            updateHourlyForecast(hourlyData) {
                const hourlyContainer = document.getElementById('hourly-forecast');
                hourlyContainer.innerHTML = '';
                
                hourlyData.forEach(hour => {
                    const hourCard = document.createElement('div');
                    hourCard.className = 'hour-card';
                    
                    const time = hour.time.toLocaleTimeString([], {hour: '2-digit'});
                    const temp = Math.round(hour.temp);
                    
                    hourCard.innerHTML = `
                        <div>${time}</div>
                        <i class="${hour.icon}"></i>
                        <div>${temp}°C</div>
                    `;
                    
                    hourlyContainer.appendChild(hourCard);
                });
            }

            // Update daily forecast UI
            updateDailyForecast(dailyData) {
                const dailyContainer = document.getElementById('daily-forecast');
                dailyContainer.innerHTML = '';
                
                const days = ['Raviwar', 'Somwar', 'Mangalwar', 'Budhwar', 'Guruwar', 'Shukrawar', 'Shaniwar'];
                
                dailyData.forEach((day, index) => {
                    const dayCard = document.createElement('div');
                    dayCard.className = 'day-card';
                    
                    const dayName = index === 0 ? 'Aaj' : index === 1 ? 'Kal' : days[day.date.getDay()];
                    const minTemp = Math.round(day.temp_min);
                    const maxTemp = Math.round(day.temp_max);
                    
                    dayCard.innerHTML = `
                        <div>${dayName}</div>
                        <i class="${day.icon}"></i>
                        <div>${maxTemp}° / ${minTemp}°</div>
                    `;
                    
                    dailyContainer.appendChild(dayCard);
                });
            }

            // Show weather alert
            showAlert(message) {
                const alertBanner = document.getElementById('weather-alert');
                const alertText = document.getElementById('alert-text');
                
                alertText.textContent = message;
                alertBanner.style.display = 'flex';
            }
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            const weatherBackend = new WeatherBackend();
            
            // Load search history
            weatherBackend.updateSearchHistoryUI();
            
            // Set up search functionality
            document.getElementById('search-btn').addEventListener('click', function() {
                const searchInput = document.getElementById('search-input').value;
                if (searchInput) {
                    weatherBackend.getWeatherData(searchInput);
                }
            });
            
            // Allow Enter key to trigger search
            document.getElementById('search-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    document.getElementById('search-btn').click();
                }
            });
            
            // Load default city weather (Mumbai)
            weatherBackend.getWeatherData('Mumbai');
        });
    </script>
</body>
</html>
